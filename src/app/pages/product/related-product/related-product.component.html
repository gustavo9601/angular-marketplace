<div class="ps-section--default">

  <div class="ps-section__header">

    <h3>Related products</h3>

  </div>

  <div class="ps-section__content">

    <app-preload *ngIf="loading"></app-preload>

    <div
      *ngIf="products.length > 0 && !loading"
      class="ps-carousel--nav owl-slider-related" data-owl-auto="true" data-owl-loop="true" data-owl-speed="10000"
         data-owl-gap="30" data-owl-nav="true" data-owl-dots="true" data-owl-item="6" data-owl-item-xs="2"
         data-owl-item-sm="2" data-owl-item-md="3" data-owl-item-lg="4" data-owl-item-xl="6" data-owl-duration="1000"
         data-owl-mousedrag="on">

      <div class="ps-product"
           [appRating]="last" classRating="ps-rating"
           [appOwlCarousel]="last" classOwlCarousel="owl-slider-related"
           *ngFor="let product of products;let last=last">

        <div class="ps-product__thumbnail">

          <a [routerLink]="['/product', product.url]">
            <img src="{{_configService.path}}img/products/{{product.category}}/{{product.image}}" alt="">
          </a>

          <div class="ps-product__badge">
            <span>Save <br> ${{((product.offer[0] === 'Disccount') ? (product.price * product.offer[1]) / 100 : product.offer[1] - product.price) | number :'2.2'}}</span>
          </div>

          <ul class="ps-product__actions">

            <li>
              <a href="#" data-toggle="tooltip" data-placement="top" title="Read More">
                <i class="icon-bag2"></i>
              </a>
            </li>

            <li>
              <a [routerLink]="['/product', product.url]" data-toggle="tooltip" data-placement="top" title="Quick View">
                <i class="icon-eye"></i>
              </a>
            </li>

            <li>
              <a href="#" data-toggle="tooltip" data-placement="top" title="Add to Whishlist">
                <i class="icon-heart"></i>
              </a>
            </li>

          </ul>

        </div>

        <div class="ps-product__container">

          <a class="ps-product__vendor" href="#">{{product.store}}</a>

          <div class="ps-product__content">

            <a class="ps-product__title" [routerLink]="['/product', product.url]">{{product.name}}</a>

            <div class="ps-product__rating">

              <select class="ps-rating" data-read-only="true">


                <option *ngFor="let value of [1,2,3,4,5]"
                        [value]="(product.calculate_review >= value) ? 1 : 2">{{value}}</option>

                <!-- <option value="1">1</option>
                 <option value="1">2</option>
                 <option value="1">3</option>
                 <option value="1">4</option>
                 <option value="2">5</option>-->

              </select>
              <span>({{product.reviews.length}})</span>

            </div>

            <h4 class="ps-product__price sale">
              ${{ ((product.offer[0] === 'Disccount') ? product.price - ((product.price * product.offer[1]) / 100) : product.price - product.offer[1]) | number :'2.2'}}
              <del> ${{product.price}}</del>
            </h4>

          </div>

          <div class="ps-product__content hover">

            <a class="ps-product__title" [routerLink]="['/product', product.url]">{{product.name}}</a>

            <h4 class="ps-product__price sale">
              ${{ ((product.offer[0] === 'Disccount') ? product.price - ((product.price * product.offer[1]) / 100) : product.price - product.offer[1]) | number :'2.2'}}
              <del> ${{product.price}}</del>
            </h4>

          </div>

        </div>

      </div>

    </div>

  </div>

</div> <!-- End Related products -->
